
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Technical implementation details, data schemas, API specifications, and system architecture for External Revenue, Internal Revenue, Parking Rate Analysis, and Other Expenses forecasting functionality implemented in Sprint 26">
      
      
        <meta name="author" content="Towne Park Data Product Team">
      
      
        <link rel="canonical" href="http://example.org/Future_State_Data_Product/technical/forecasting/20250717_Forecasting_TechnicalSpec_Sprint26Features/">
      
      
        <link rel="prev" href="../../database/customer-sites-data-schema/">
      
      
        <link rel="next" href="../20250718_Forecasting_BillableAccounts_TechnicalSpec/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Forecasting Technical Specifications - Sprint 26 Features - Towne Park Data Product</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#forecasting-technical-specifications-sprint-26-features" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Towne Park Data Product" class="md-header__button md-logo" aria-label="Towne Park Data Product" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Towne Park Data Product
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Forecasting Technical Specifications - Sprint 26 Features
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link">
        
  
  
    
  
  Documentation Overview

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../TP%20Product%20Roadmap/" class="md-tabs__link">
        
  
  
    
  
  TP Product Roadmap

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../ai-prompts/Towne_Park_Comprehensive_AI_Documentation_Protocol.md" class="md-tabs__link">
          
  
  
  AI Prompts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../systems/billing/overview/" class="md-tabs__link">
          
  
  
  Systems

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../business-rules/contract-types/overview/" class="md-tabs__link">
          
  
  
  Business Rules

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../overview/" class="md-tabs__link">
          
  
  
  Technical

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../user-processes/account-manager/" class="md-tabs__link">
          
  
  
  User Processes

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../configuration/contracts/contract-configuration-guide/" class="md-tabs__link">
          
  
  
  Configuration

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../team-notes/AulsonJonathan-Notes/20250718_Architecture_TeamMeetingNotes_WeeklySync/" class="md-tabs__link">
          
  
  
  Team Notes

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../glossary/" class="md-tabs__link">
        
  
  
    
  
  Glossary

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Towne Park Data Product" class="md-nav__button md-logo" aria-label="Towne Park Data Product" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Towne Park Data Product
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../TP%20Product%20Roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TP Product Roadmap
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AI Prompts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            AI Prompts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../ai-prompts/Towne_Park_Comprehensive_AI_Documentation_Protocol.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comprehensive AI Documentation Protocol
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Systems
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Systems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Billing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Billing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/billing/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/billing/20250716_Billing_SystemOverview_PowerBill/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PowerBill System Overview
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/billing/powerbill-system-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PowerBill System Overview (Detailed)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/billing/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/billing/integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integrations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/billing/generate-invoices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Invoices
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Forecasting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Forecasting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/forecasting/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/forecasting/20250718_Forecasting_SystemOverview_ComprehensiveMaster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comprehensive Master Overview
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/forecasting/20250716_Forecasting_SystemOverview_Discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Discovery
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/forecasting/20250716_Forecasting_SystemOverview_MasterArchitecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Master Architecture
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/forecasting/20250716_Forecasting_SystemOverview_Integrated/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integrated System Overview
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/forecasting/20250716_Forecasting_PayrollForecasting_SystemOverview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Payroll Forecasting System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/forecasting/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/forecasting/integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integrations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Customer Sites
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Customer Sites
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/customer-sites/customer-site-directory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customer Site Directory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/customer-sites/20250716_CustomerSites_SystemOverview_Management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customer Site Management System Overview
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contracts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Contracts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../systems/contracts/20250716_Contracts_SystemOverview_PowerBill/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contract Management System Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Business Rules
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Business Rules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contract Types
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            Contract Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contract-types/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contract-types/revenue-share/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Revenue Share
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contract-types/fixed-fee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fixed Fee
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contract-types/per-labor-hour/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Per Labor Hour
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contract-types/management-agreement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Management Agreement
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Billing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Billing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/invoice-calculation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Invoice Calculation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/bell-service-fee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bell Service Fee
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/20250724_Billing_RevenueShareContracts_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Revenue Share Contract Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/20250724_Billing_PerLaborHourContracts_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Per Labor Hour Contract Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/20250716_Billing_ROIAnalysis_SuccessMetrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ROI Analysis & Success Metrics
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/20250717_Billing_ROIAnalysis_PowerBillSuccessMetrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PowerBill ROI Analysis & Success Metrics
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/20250717_TownePark_CaseStudy_BillingSystemModernization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Billing System Modernization Case Study
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/negative-invoice-gl-entity-mapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Negative Invoice GL Entity Mapping
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/management-fee-escalation-rules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Management Fee Escalation Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/pteb-escalation-rules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PTEB Escalation Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/20250723_RSS_FileValidation_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RSS File Validation Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/20250702_Billing_AccountValidation_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Account Validation Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/billing/20250723_Billing_RevenueManagement_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Revenue Management Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Forecasting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Forecasting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250718_Forecasting_BusinessRules_CalculationsAndValidations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Calculations and Validations
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250718_Forecasting_BusinessRules_DevelopmentDecisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development Decisions
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250716_Forecasting_BusinessRules_ProcessWorkflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Process Workflow
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250716_Forecasting_BillableAccounts_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Billable Accounts Business Rules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250717_Forecasting_BusinessRules_Sprint26Features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sprint 26 Features Business Rules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/group-transient-logic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Group Transient Logic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/payroll/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Payroll
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/revenue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Revenue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250723_Forecasting_ActualsDisplay_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Actuals Display Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Approved"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250723_Forecasting_StatisticsDisplay_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistics Display Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250702_Forecasting_JobCodeManagement_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Job Code Management Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250724_Forecasting_DataValidation_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Validation Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250724_ForecastingInputGranularity_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Input Granularity Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/forecasting/20250724_Claims_Forecasting_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Claims Forecasting Business Rules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contracts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Contracts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contracts/20250716_Contracts_BusinessRules_Comprehensive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comprehensive Business Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contracts/20250724_RevenueShare_ContractConfiguration_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Revenue Share Contract Configuration
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contracts/20250724_FixedFee_ContractConfiguration_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fixed Fee Contract Configuration
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contracts/20250724_ManagementAgreement_ContractConfiguration_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Management Agreement Contract Configuration
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contracts/20250724_PerLaborHour_ContractConfiguration_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Per Labor Hour Contract Configuration
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contracts/20250724_HybridContract_ContractConfiguration_BusinessRules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hybrid Contract Configuration
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contracts/contract-escalation-rules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contract Escalation Rules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contracts/plh-rate-escalation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PLH Rate Escalation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/contracts/service-fee-escalation-eci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Service Fee Escalation ECI
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Customer Sites
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Customer Sites
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-rules/customer-sites/site-classification-rules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Site Classification Rules
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Technical
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Technical
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Technical Documentation Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Frontend
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Backend
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Backend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/20250718_Architecture_ALMStrategy_PowerPlatform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ALM Strategy for Power Platform
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/20250718_Development_AIIntegration_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Integration Technical Spec
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/20250723_AI_TechnicalSpec_SDLCIntegration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI SDLC Integration Technical Spec
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/20250723_AI_ValidationReport_SDLCIntegration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI SDLC Integration Validation Report
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/20250724_AI_Productivity_Tools_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Productivity Tools Technical Specification
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/20250718_Forecasting_TechnicalArchitecture_APIDesign/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting Technical Architecture & API Design
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backend/20250716_Billing_TechnicalArchitecture_Development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Billing Architecture
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Database
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            Database
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/20250723_Database_TechnicalSpec_MigrationDataFlows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migration and Data Flow Technical Specs
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/20250724_PayrollData_DatabaseQueries_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Payroll Data Database Queries Technical Specification
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/20250718_Forecasting_DatabaseIntegration_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting Database Integration
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/20250716_Forecasting_DataSources_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting Data Sources
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/20250716_Forecasting_BillableAccounts_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Billable Accounts Technical Spec
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/20250718_Contracts_DataDictionary_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contracts Data Dictionary Technical Spec
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/schema-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schema Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/contracts-data-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contracts Data Schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/customer-sites-data-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customer Sites Data Schema
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" checked>
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Forecasting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            Forecasting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Sprint 26 Features Technical Spec
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Sprint 26 Features Technical Spec
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-validation-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Code Validation Summary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code Validation Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validated-components" class="md-nav__link">
    <span class="md-ellipsis">
      Validated Components
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      System Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-level-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Component Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Component Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#power-platform-components" class="md-nav__link">
    <span class="md-ellipsis">
      Power Platform Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-system-integrations" class="md-nav__link">
    <span class="md-ellipsis">
      External System Integrations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-schema-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Data Schema Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Schema Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revenue-share-configuration-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Share Configuration Schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Revenue Share Configuration Schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataverse-entity-bs_revenueshareconfig" class="md-nav__link">
    <span class="md-ellipsis">
      Dataverse Entity: bs_revenueshareconfig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tier-data-json-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Tier Data JSON Schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#per-occupied-room-configuration-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Per Occupied Room Configuration Schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Per Occupied Room Configuration Schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataverse-entity-bs_peroccupiedroomconfig" class="md-nav__link">
    <span class="md-ellipsis">
      Dataverse Entity: bs_peroccupiedroomconfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edw-data-schema" class="md-nav__link">
    <span class="md-ellipsis">
      EDW Data Schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EDW Data Schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revenue-data-mart-table-dborevenue_datamart_daily_invoice" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Data Mart Table: [dbo].[REVENUE_DATAMART_DAILY_INVOICE]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revenue-detail-view-dbovwrevenue_daily_detail_invoice" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Detail View: [dbo].[vwREVENUE_DAILY_DETAIL_INVOICE]
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      API Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#power-automate-workflow-apis" class="md-nav__link">
    <span class="md-ellipsis">
      Power Automate Workflow APIs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Power Automate Workflow APIs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#per-occupied-room-generation-api" class="md-nav__link">
    <span class="md-ellipsis">
      Per Occupied Room Generation API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revenue-sharing-api" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Sharing API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formula-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Formula Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Formula Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revenue-share-formulas" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Share Formulas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Revenue Share Formulas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#owner-percentage-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      Owner Percentage Calculation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#total-due-to-owner-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      Total Due to Owner Calculation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-design" class="md-nav__link">
    <span class="md-ellipsis">
      Database Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Optimization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#indexing-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Query Optimization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-archival-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Data Archival Strategy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Archival Strategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#archival-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Archival Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archive-table-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Archive Table Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Integration Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#powerbill-integration" class="md-nav__link">
    <span class="md-ellipsis">
      PowerBill Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PowerBill Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataverse-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Dataverse Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataverse Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Security Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audit-trail-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Audit Trail Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response-time-targets" class="md-nav__link">
    <span class="md-ellipsis">
      Response Time Targets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throughput-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Throughput Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scalability-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Scalability Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Security Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication-and-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication and Authorization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-privacy-and-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      Data Privacy and Compliance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-alerting" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring and Alerting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring and Alerting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#application-performance-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Application Performance Monitoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#health-check-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Health Check Endpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#development-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Development Environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250718_Forecasting_BillableAccounts_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Billable Accounts Technical Spec
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250723_Forecasting_JobGroups_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Job Groups Technical Specification
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20250702_Forecasting_DataIntegration_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Integration Technical Spec
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_7" >
        
          
          <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Operations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_7">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/20250723_SystemAdministration_Operations_Procedures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Administration Operations Procedures
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_8" >
        
          
          <label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Specifications
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8">
            <span class="md-nav__icon md-icon"></span>
            Specifications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specifications/20250723_RSS_TechnicalSpec_TroubleshootingProcedures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RSS Troubleshooting Technical Spec
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specifications/forecasting-pl-view-technical-spec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting P&L View Technical Spec
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specifications/power-automate-retry-mechanisms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Power Automate Retry Mechanisms
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specifications/sharepoint-delta-token-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SharePoint Delta Token Management
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_9" >
        
          
          <label class="md-nav__link" for="__nav_7_9" id="__nav_7_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Integrations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9">
            <span class="md-nav__icon md-icon"></span>
            Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/20250718_Architecture_IntegrationStrategy_HybridConnections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integration Strategy for Hybrid Connections
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/20250724_EDW_Integration_TechnicalSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EDW Integration Technical Specification
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/great-plains-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Great Plains Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/billing-integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Billing Integrations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/budget-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Budget Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/leads-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Leads Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/legion-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Legion Integration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Processes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            User Processes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1" >
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Account Manager
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            Account Manager
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/account-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/account-manager/20250718_Forecasting_UserProcesses_AccountManagerWorkflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting User Processes
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/account-manager/20250718_AccountManager_ForecastingMethodology_InterviewInsights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting Methodology Interview Insights
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/account-manager/20250716_Forecasting_DataTableEditing_UserProcess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Table Editing Process
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/account-manager/20250716_Forecasting_StatisticsPagination_UserProcess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistics Pagination Process
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/account-manager/20250723_Forecasting_ActualsDisplay_UserProcess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Actuals Display User Process
    
  </span>
  
    
  
  
    <span class="md-status md-status--Approved"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Billing Admin
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Billing Admin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/billing-admin/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/billing-admin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Billing Admin Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/billing-admin/generate-invoices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate Invoices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/billing-admin/20250724_StatementManagement_UserProcess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statement Management User Process
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/billing-admin/20250723_RSS_TroubleshootingProcess_UserGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RSS Troubleshooting User Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/billing-admin/customer-migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customer Migration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/billing-admin/20250702_Billing_AccountValidation_UserProcess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Account Validation User Process
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/billing-admin/20250718_Billing_UATUserStories_ComprehensiveFeedback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UAT User Stories Comprehensive Feedback
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contract Admin
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            Contract Admin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/contract-admin/contract-setup-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contract Setup Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/contract-admin/20250718_Contracts_QueryExamples_UserReference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contract Query Examples User Reference
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/development/20250723_Development_UserProcess_WorkflowStandards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development Workflow Standards
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/development/20250723_AI_UserProcess_DevelopmentWorkflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI-Enhanced Development Workflow
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/development/20250723_SprintPlanning_ProcessGuide_AIAssisted/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI-Assisted Sprint Planning Process Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/development/20250724_UAT_Methodology_UserProcess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UAT Methodology User Process Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/development/20250724_Project_Management_Methodology_UserProcess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Management Methodology User Process
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_5" >
        
          
          <label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    District Manager
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5">
            <span class="md-nav__icon md-icon"></span>
            District Manager
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/district-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/district-manager/20250723_DistrictManager_ForecastingWorkflow_UserGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting Workflow User Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/district-manager/20250716_Forecasting_PilotRollout_ProcessWorkflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pilot & Rollout Process
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_6" >
        
          
          <label class="md-nav__link" for="__nav_8_6" id="__nav_8_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Forecasting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_6">
            <span class="md-nav__icon md-icon"></span>
            Forecasting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/forecasting/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/forecasting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting User Processes Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/forecasting/20250717_Forecasting_UserProcesses_Sprint26Features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sprint 26 Features User Processes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/forecasting/20250718_Forecasting_UserExperience_DesignDecisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Experience Design Decisions
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/forecasting/20250723_Forecasting_UIDesign_UserExperienceStandards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UI Design User Experience Standards
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/forecasting/20250723_Forecasting_SystemDemo_ComprehensiveGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Demo Comprehensive Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/forecasting/20250702_Forecasting_JobGroupManagement_UserProcess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Job Group Management User Process
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_7" >
        
          
          <label class="md-nav__link" for="__nav_8_7" id="__nav_8_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Site Admin
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_7">
            <span class="md-nav__icon md-icon"></span>
            Site Admin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-processes/site-admin/site-onboarding-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Site Onboarding Workflow
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contracts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            Contracts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/contracts/contract-configuration-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contract Configuration Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/contracts/20250724_Billing_ContractConfiguration_SetupGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Revenue Share Contract Setup Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/contracts/20250724_Billing_PerLaborHourConfiguration_SetupGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Per Labor Hour Contract Setup Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_2" >
        
          
          <label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Customer Sites
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_2">
            <span class="md-nav__icon md-icon"></span>
            Customer Sites
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/customer-sites/site-setup-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Site Setup Configuration
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/contract-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contract Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_4" >
        
          
          <label class="md-nav__link" for="__nav_9_4" id="__nav_9_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Access
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4">
            <span class="md-nav__icon md-icon"></span>
            User Access
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/user-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/user-access/role-based-permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Role-Based Permissions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_5" >
        
          
          <label class="md-nav__link" for="__nav_9_5" id="__nav_9_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    System Settings
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_5">
            <span class="md-nav__icon md-icon"></span>
            System Settings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/system-settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/system-settings/system-configuration-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Configuration Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/system-settings/20250718_Architecture_LicensingAnalysis_PowerPlatform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Power Platform Licensing Analysis
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/system-settings/20250716_Development_ConfigurationGuide_Standards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development Standards
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/system-settings/20250718_Development_Standards_ComprehensiveGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comprehensive Development Standards
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/system-settings/20250718_Development_DefinitionOfDone_ComprehensiveGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Definition of Done Comprehensive Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/system-settings/20250718_Development_PRReview_ComprehensiveGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pull Request Review Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/system-settings/20250723_AI_ConfigurationGuide_SDLCIntegration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI SDLC Integration Configuration Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/system-settings/20250723_AI_ConfigurationGuide_DevelopmentTools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Development Tools Configuration Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Team Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Team Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10_1" >
        
          
          <label class="md-nav__link" for="__nav_10_1" id="__nav_10_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Jonathan Aulson Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_1">
            <span class="md-nav__icon md-icon"></span>
            Jonathan Aulson Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/AulsonJonathan-Notes/20250718_Architecture_TeamMeetingNotes_WeeklySync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture Team Meeting Notes
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10_2" >
        
          
          <label class="md-nav__link" for="__nav_10_2" id="__nav_10_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development Team Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2">
            <span class="md-nav__icon md-icon"></span>
            Development Team Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250723_Development_TeamNotes_DailyScrumInsights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Daily Scrum Insights and Progress Tracking
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250723_Forecasting_TeamNotes_ActualsDisplayDecisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting Actuals Display Decisions
    
  </span>
  
    
  
  
    <span class="md-status md-status--Approved"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250724_Forecasting_BacklogGrooming_ConsolidatedDecisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting Backlog Grooming Consolidated Decisions
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250724_ForecastingSprintDemo_ConsolidatedTeamNotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting Sprint Demo Consolidated Team Notes
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250724_UAT_Planning_TeamNotes_BacklogGrooming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UAT Planning Team Notes - Backlog Grooming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250724_Sprint_Planning_TeamNotes_FinalStretch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sprint Planning Team Notes - Final Stretch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250724_DailyScrum_TechnicalClarifications_TeamNotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Daily Scrum Technical Clarifications Team Notes
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250724_Forecasting_BacklogGrooming_TeamNotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forecasting Backlog Grooming Team Notes
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250724_DailyScrum_DevelopmentProgress_TeamNotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Daily Scrum Development Progress Team Notes
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/development/20250723_DailyScrum_TechnicalIssues_ResolutionGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Daily Scrum Technical Issues Resolution Guide
    
  </span>
  
    
  
  
    <span class="md-status md-status--Active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/20250718_Development_DailyScrum_TeamNotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Daily Scrum Team Notes
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../team-notes/20250718_Development_SprintPlanning_ProjectManagement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sprint Planning Project Management
    
  </span>
  
    
  
  
    <span class="md-status md-status--Draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-validation-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Code Validation Summary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code Validation Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validated-components" class="md-nav__link">
    <span class="md-ellipsis">
      Validated Components
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      System Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-level-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Component Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Component Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#power-platform-components" class="md-nav__link">
    <span class="md-ellipsis">
      Power Platform Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-system-integrations" class="md-nav__link">
    <span class="md-ellipsis">
      External System Integrations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-schema-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Data Schema Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Schema Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revenue-share-configuration-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Share Configuration Schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Revenue Share Configuration Schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataverse-entity-bs_revenueshareconfig" class="md-nav__link">
    <span class="md-ellipsis">
      Dataverse Entity: bs_revenueshareconfig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tier-data-json-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Tier Data JSON Schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#per-occupied-room-configuration-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Per Occupied Room Configuration Schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Per Occupied Room Configuration Schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataverse-entity-bs_peroccupiedroomconfig" class="md-nav__link">
    <span class="md-ellipsis">
      Dataverse Entity: bs_peroccupiedroomconfig
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edw-data-schema" class="md-nav__link">
    <span class="md-ellipsis">
      EDW Data Schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EDW Data Schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revenue-data-mart-table-dborevenue_datamart_daily_invoice" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Data Mart Table: [dbo].[REVENUE_DATAMART_DAILY_INVOICE]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revenue-detail-view-dbovwrevenue_daily_detail_invoice" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Detail View: [dbo].[vwREVENUE_DAILY_DETAIL_INVOICE]
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      API Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#power-automate-workflow-apis" class="md-nav__link">
    <span class="md-ellipsis">
      Power Automate Workflow APIs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Power Automate Workflow APIs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#per-occupied-room-generation-api" class="md-nav__link">
    <span class="md-ellipsis">
      Per Occupied Room Generation API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revenue-sharing-api" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Sharing API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formula-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Formula Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Formula Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revenue-share-formulas" class="md-nav__link">
    <span class="md-ellipsis">
      Revenue Share Formulas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Revenue Share Formulas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#owner-percentage-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      Owner Percentage Calculation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#total-due-to-owner-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      Total Due to Owner Calculation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-design" class="md-nav__link">
    <span class="md-ellipsis">
      Database Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Optimization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#indexing-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Query Optimization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-archival-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Data Archival Strategy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Archival Strategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#archival-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Archival Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archive-table-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Archive Table Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Integration Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#powerbill-integration" class="md-nav__link">
    <span class="md-ellipsis">
      PowerBill Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PowerBill Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Connection Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataverse-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Dataverse Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataverse Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Security Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audit-trail-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Audit Trail Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Performance Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response-time-targets" class="md-nav__link">
    <span class="md-ellipsis">
      Response Time Targets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throughput-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Throughput Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scalability-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Scalability Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Security Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication-and-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication and Authorization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-privacy-and-compliance" class="md-nav__link">
    <span class="md-ellipsis">
      Data Privacy and Compliance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-alerting" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring and Alerting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring and Alerting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#application-performance-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Application Performance Monitoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#health-check-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Health Check Endpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-specifications" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Specifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Specifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#development-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Development Environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="forecasting-technical-specifications-sprint-26-features">Forecasting Technical Specifications - Sprint 26 Features</h1>
<h2 id="overview">Overview</h2>
<p>This document provides comprehensive technical specifications for the forecasting functionality delivered in Sprint 26, including detailed implementation requirements, data schemas, API specifications, and system architecture for External Revenue calculation, Internal Revenue calculation (Per Occupied Room and Revenue Share), Parking Rate Analysis, and Other Expenses Forecasting.</p>
<h2 id="code-validation-summary">Code Validation Summary</h2>
<p><strong>Validation Status</strong>: ✅ <strong>VALIDATED</strong> against Power Platform implementation</p>
<h3 id="validated-components">Validated Components</h3>
<ul>
<li><strong>Revenue Share Formula</strong>: <a href="../../../Towne-Park-Billing-PA-Solution/BillingSystem/Formulas/bs_revenuesharebypercent-FormulaDefinitions.yaml:1"><code>bs_revenuesharebypercent-FormulaDefinitions.yaml</code></a></li>
<li><strong>Per Occupied Room Workflow</strong>: <a href="../../../Towne-Park-Billing-PA-Solution/BillingSystem/Workflows/PerOccupiedRoomGenerationChildFlow20250224-E88DE41D-BAF2-EF11-BE21-6045BD096814.json:1"><code>PerOccupiedRoomGenerationChildFlow</code></a></li>
<li><strong>Revenue Sharing Workflow</strong>: <a href="../../../Towne-Park-Billing-PA-Solution/BillingSystem/Workflows/RevenueSharing20250325-1B21C7C0-E609-F011-BAE3-000D3A5AC294.json:1"><code>RevenueSharing20250325</code></a></li>
</ul>
<h2 id="system-architecture">System Architecture</h2>
<h3 id="high-level-architecture">High-Level Architecture</h3>
<pre class="mermaid"><code>graph TB
    A[Power Apps Frontend] --&gt; B[Power Automate Workflows]
    B --&gt; C[Dataverse Configuration]
    B --&gt; D[EDW Data Sources]
    B --&gt; E[PowerBill Integration]

    C --&gt; F[Revenue Share Config]
    C --&gt; G[Per Room Config]
    C --&gt; H[Threshold Config]

    D --&gt; I[Revenue Data Mart]
    D --&gt; J[Historical Revenue]
    D --&gt; K[Occupancy Data]

    E --&gt; L[Billing Integration]
    E --&gt; M[Invoice Generation]</code></pre>
<h3 id="component-architecture">Component Architecture</h3>
<h4 id="power-platform-components">Power Platform Components</h4>
<ul>
<li><strong>Power Apps</strong>: User interface for forecasting configuration and execution</li>
<li><strong>Power Automate</strong>: Workflow orchestration and business logic execution</li>
<li><strong>Dataverse</strong>: Configuration storage and user management</li>
<li><strong>Power BI</strong>: Reporting and analytics dashboard</li>
</ul>
<h4 id="external-system-integrations">External System Integrations</h4>
<ul>
<li><strong>EDW (Enterprise Data Warehouse)</strong>: Historical data source</li>
<li><strong>PowerBill</strong>: Billing system integration</li>
<li><strong>SQL Server</strong>: Primary data storage and processing</li>
</ul>
<h2 id="data-schema-specifications">Data Schema Specifications</h2>
<h3 id="revenue-share-configuration-schema">Revenue Share Configuration Schema</h3>
<h4 id="dataverse-entity-bs_revenueshareconfig">Dataverse Entity: <code>bs_revenueshareconfig</code></h4>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;entityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bs_revenueshareconfig&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;displayName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Revenue Share Configuration&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;bs_revenueshareconfig_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uniqueidentifier&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;primaryKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Unique identifier for revenue share configuration&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_tierdata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ntext&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JSON array of tier configuration data&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;validation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Valid JSON array with SharePercentage and Amount properties&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_revenuecodedata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ntext&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JSON array of revenue codes to include in calculations&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;validation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Valid JSON array of revenue code strings&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_revenueaccumulationtype&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;optionset&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Revenue accumulation period type&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;126840000&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Monthly&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;126840001&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Annual Calendar&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="nt">&quot;126840002&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Annual Anniversary&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_invoicegroup&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Invoice group number for revenue share calculations&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;validation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Must be positive integer&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_validationthresholdamount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;money&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Validation threshold amount for revenue calculations&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;validation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Must be non-negative&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_validationthresholdtype&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;optionset&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Type of validation threshold&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;126840000&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Percentage&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;126840001&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Fixed Amount&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="tier-data-json-schema">Tier Data JSON Schema</h4>
<p><strong>Validated Implementation</strong>: ✅ Matches Power Platform workflow
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;SharePercentage&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;minimum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;maximum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Percentage to charge for this tier&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;Amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;minimum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Upper limit for this tier (0 for unlimited)&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;SharePercentage&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Amount&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="per-occupied-room-configuration-schema">Per Occupied Room Configuration Schema</h3>
<h4 id="dataverse-entity-bs_peroccupiedroomconfig">Dataverse Entity: <code>bs_peroccupiedroomconfig</code></h4>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;entityName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bs_peroccupiedroomconfig&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;displayName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Per Occupied Room Configuration&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;bs_peroccupiedroomconfig_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uniqueidentifier&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;primaryKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_roomrate&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;money&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Rate per occupied room&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;validation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Must be positive&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_invoicegroup&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Target invoice group for per room charges&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_contracttype&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ntext&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Comma-separated contract type values&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_sitenumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nvarchar(10)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Customer site number&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_occupiedroomsinvoicegroup&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Invoice group for occupied room line items&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_glcode&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nvarchar(20)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GL code for occupied room charges&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;bs_serviceperiodstart&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;datetime&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Start date for service period&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="edw-data-schema">EDW Data Schema</h3>
<h4 id="revenue-data-mart-table-dborevenue_datamart_daily_invoice">Revenue Data Mart Table: <code>[dbo].[REVENUE_DATAMART_DAILY_INVOICE]</code></h4>
<p><strong>Validated Implementation</strong>: ✅ Matches Power Platform queries
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">REVENUE_DATAMART_DAILY_INVOICE</span><span class="p">]</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">SITE</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="nb">DATE</span><span class="p">]</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">REVENUE_CATEGORY</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">VALUE</span><span class="p">]</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">REVENUE_CODE</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="p">[</span><span class="n">DEPOSIT_FLAG</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
<span class="w">    </span><span class="p">[</span><span class="n">CREATED_DATE</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME2</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span>
<span class="w">    </span><span class="p">[</span><span class="n">MODIFIED_DATE</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME2</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span>

<span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">IX_REVENUE_DATAMART_SITE_DATE</span><span class="w"> </span><span class="p">(</span><span class="n">SITE</span><span class="p">,</span><span class="w"> </span><span class="nb">DATE</span><span class="p">),</span>
<span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">IX_REVENUE_DATAMART_CATEGORY</span><span class="w"> </span><span class="p">(</span><span class="n">REVENUE_CATEGORY</span><span class="p">),</span>
<span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">IX_REVENUE_DATAMART_CODE</span><span class="w"> </span><span class="p">(</span><span class="n">REVENUE_CODE</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></p>
<h4 id="revenue-detail-view-dbovwrevenue_daily_detail_invoice">Revenue Detail View: <code>[dbo].[vwREVENUE_DAILY_DETAIL_INVOICE]</code></h4>
<p><strong>Validated Implementation</strong>: ✅ Matches Power Platform queries
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">vwREVENUE_DAILY_DETAIL_INVOICE</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="n">SITE</span><span class="p">,</span>
<span class="w">    </span><span class="nb">DATE</span><span class="p">,</span>
<span class="w">    </span><span class="n">REVENUE_CATEGORY</span><span class="p">,</span>
<span class="w">    </span><span class="n">REVENUE_CODE</span><span class="p">,</span>
<span class="w">    </span><span class="n">NETEXTERNALREVENUE</span><span class="p">,</span>
<span class="w">    </span><span class="n">DEPOSIT_FLAG</span><span class="p">,</span>
<span class="w">    </span><span class="n">CREATED_DATE</span><span class="p">,</span>
<span class="w">    </span><span class="n">MODIFIED_DATE</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">REVENUE_DAILY_DETAIL</span><span class="p">]</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">ACTIVE_FLAG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Y&#39;</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">DELETED_FLAG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;N&#39;</span><span class="p">;</span>
</code></pre></div></p>
<h2 id="api-specifications">API Specifications</h2>
<h3 id="power-automate-workflow-apis">Power Automate Workflow APIs</h3>
<h4 id="per-occupied-room-generation-api">Per Occupied Room Generation API</h4>
<p><strong>Endpoint</strong>: <code>PerOccupiedRoomGenerationChildFlow</code>
<strong>Method</strong>: POST
<strong>Validated Implementation</strong>: ✅ Matches Power Platform workflow</p>
<p><strong>Request Schema</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;number&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Per Occupied Room rate&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;minimum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;number_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Target invoice group&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;minimum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Comma separated string of Contract Types integer values&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;text_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Customer Site number (e.g., &#39;0452&#39;)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^[0-9]{4}$&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;number_2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Invoice Group of the occupied room line item&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;text_2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GL Code for occupied room line item&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;date&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Start date for service period&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;number_1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;text_1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;text_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;date&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong>Response Schema</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;invoicesubtotal&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Total invoice subtotal amount&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;lineitems&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JSON string of line item array&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong>Implementation Logic</strong> (Validated against Power Platform):
<div class="highlight"><pre><span></span><code><span class="c1">// Input validation</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;number_1&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
<span class="w">    </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
<span class="w">    </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text&#39;</span><span class="p">].</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">||</span>
<span class="w">    </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;number&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span>
<span class="w">    </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text_1&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span>
<span class="w">    </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text_1&#39;</span><span class="p">].</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">||</span>
<span class="w">    </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;number_2&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span>
<span class="w">    </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text_2&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span>
<span class="w">    </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">invoicesubtotal</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">lineitems</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;[]&quot;</span><span class="w"> </span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">// Contract type validation</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text&#39;</span><span class="p">].</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;126840002&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
<span class="w">    </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;number_2&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;number_1&#39;</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">invoicesubtotal</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">lineitems</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;[]&quot;</span><span class="w"> </span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">// Get occupied room data from EDW</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">    SELECT VALUE </span>
<span class="sb">    FROM [dbo].[REVENUE_DATAMART_DAILY_INVOICE]</span>
<span class="sb">    WHERE REVENUE_CATEGORY = &#39;Occupied Rooms&#39; </span>
<span class="sb">      AND SITE = &#39;</span><span class="si">${</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text_1&#39;</span><span class="p">]</span><span class="si">}</span><span class="sb">&#39;</span>
<span class="sb">      AND DATE LIKE &#39;</span><span class="si">${</span><span class="nx">formatDateTime</span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyy-MM&#39;</span><span class="p">)</span><span class="si">}</span><span class="sb">%&#39;</span>
<span class="sb">    AGGREGATE(VALUE with sum as SUM_VALUE)</span>
<span class="sb">`</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">numberOfRooms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">executeQuery</span><span class="p">(</span><span class="nx">query</span><span class="p">).</span><span class="nx">SUM_VALUE</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">subTotalAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">numberOfRooms</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;number&#39;</span><span class="p">];</span>

<span class="c1">// Generate line items</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">lineItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Occupied Rooms&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Total Occupied Rooms: </span><span class="si">${</span><span class="nx">formatNumber</span><span class="p">(</span><span class="nx">numberOfRooms</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;N0&#39;</span><span class="p">)</span><span class="si">}</span><span class="sb">.\nTowne Park Service Fee at $</span><span class="si">${</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;number&#39;</span><span class="p">]</span><span class="si">}</span><span class="sb"> Per Occupied Room`</span><span class="p">,</span>
<span class="w">    </span><span class="nx">code</span><span class="o">:</span><span class="w"> </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text_2&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="nx">amount</span><span class="o">:</span><span class="w"> </span><span class="nx">subTotalAmount</span>
<span class="p">}];</span>

<span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">invoicesubtotal</span><span class="o">:</span><span class="w"> </span><span class="nx">subTotalAmount</span><span class="p">,</span>
<span class="w">    </span><span class="nx">lineitems</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">lineItems</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div></p>
<h4 id="revenue-sharing-api">Revenue Sharing API</h4>
<p><strong>Endpoint</strong>: <code>RevenueSharing20250325</code>
<strong>Method</strong>: POST
<strong>Validated Implementation</strong>: ✅ Matches Power Platform workflow</p>
<p><strong>Request Schema</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Site Number&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;number&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Invoice Group Number&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;date&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Start Date (YYYY-MM-DD)&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;date_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;date&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;End Date (YYYY-MM-DD)&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;text_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration Object (JSON string)&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;date_2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;date&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Contract Start Date (YYYY-MM-DD)&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;text_2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Comma separated string of Contract Types integer values&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;date&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;date_1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;text_1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;date_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;text_2&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong>Response Schema</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;lineitems&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JSON string of line item array&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;invoicesubtotal&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Total invoice subtotal amount&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;revenuedistributionitems&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JSON string of revenue distribution item array&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong>Implementation Logic</strong> (Validated against Power Platform):
<div class="highlight"><pre><span></span><code><span class="c1">// Parse configuration object</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">configArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text_1&#39;</span><span class="p">]);</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">totalAmountDue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">totalRevenue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">revenueDistributionItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="c1">// Process each threshold configuration</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">threshold</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">configArray</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Validate invoice group matches</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;number&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">threshold</span><span class="p">.</span><span class="nx">bs_invoicegroup</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">continue</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Parse tier data and revenue codes</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">tierData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">threshold</span><span class="p">.</span><span class="nx">bs_tierdata</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">revenueCodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">threshold</span><span class="p">.</span><span class="nx">bs_revenuecodedata</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Build revenue code filter</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">revenueCodeFilter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">revenueCodes</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&#39; or REVENUE_CODE eq &#39;&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Determine if Bell Service is enabled</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">bellServiceEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text_2&#39;</span><span class="p">].</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;126840005&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Build query based on Bell Service status</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">query</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">bellServiceEnabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">            SELECT TotalNetExternalRevenue</span>
<span class="sb">            FROM [dbo].[vwREVENUE_DAILY_DETAIL_INVOICE]</span>
<span class="sb">            WHERE SITE = &#39;</span><span class="si">${</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="sb">&#39;</span>
<span class="sb">              AND year(DATE) = </span><span class="si">${</span><span class="nx">formatDateTime</span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyy&#39;</span><span class="p">)</span><span class="si">}</span>
<span class="sb">              AND month(DATE) = </span><span class="si">${</span><span class="nx">formatDateTime</span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;MM&#39;</span><span class="p">)</span><span class="si">}</span>
<span class="sb">              AND DEPOSIT_FLAG != &#39;V&#39;</span>
<span class="sb">              AND REVENUE_CATEGORY != &#39;Per Man Hour&#39;</span>
<span class="sb">              AND REVENUE_CODE != &#39;OR1&#39;</span>
<span class="sb">              AND REVENUE_CODE != &#39;OR2&#39;</span>
<span class="sb">              AND (REVENUE_CODE = &#39;</span><span class="si">${</span><span class="nx">revenueCodeFilter</span><span class="si">}</span><span class="sb">&#39;)</span>
<span class="sb">            AGGREGATE(NETEXTERNALREVENUE with sum as TotalNetExternalRevenue)</span>
<span class="sb">        `</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">            SELECT TotalNetExternalRevenue</span>
<span class="sb">            FROM [dbo].[vwREVENUE_DAILY_DETAIL_INVOICE]</span>
<span class="sb">            WHERE SITE = &#39;</span><span class="si">${</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="sb">&#39;</span>
<span class="sb">              AND year(DATE) = </span><span class="si">${</span><span class="nx">formatDateTime</span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyy&#39;</span><span class="p">)</span><span class="si">}</span>
<span class="sb">              AND month(DATE) = </span><span class="si">${</span><span class="nx">formatDateTime</span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;MM&#39;</span><span class="p">)</span><span class="si">}</span>
<span class="sb">              AND DEPOSIT_FLAG != &#39;V&#39;</span>
<span class="sb">              AND REVENUE_CATEGORY != &#39;Per Man Hour&#39;</span>
<span class="sb">              AND (REVENUE_CODE = &#39;</span><span class="si">${</span><span class="nx">revenueCodeFilter</span><span class="si">}</span><span class="sb">&#39;)</span>
<span class="sb">            AGGREGATE(NETEXTERNALREVENUE with sum as TotalNetExternalRevenue)</span>
<span class="sb">        `</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">thresholdRevenue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">executeQuery</span><span class="p">(</span><span class="nx">query</span><span class="p">).</span><span class="nx">TotalNetExternalRevenue</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">    </span><span class="nx">totalRevenue</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">thresholdRevenue</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Calculate revenue accumulation if annual</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">accumulatedRevenue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">thresholdRevenue</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">threshold</span><span class="p">.</span><span class="nx">bs_revenueaccumulationtype</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">126840001</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="c1">// Annual Calendar</span>
<span class="w">        </span><span class="nx">threshold</span><span class="p">.</span><span class="nx">bs_revenueaccumulationtype</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">126840002</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// Annual Anniversary</span>

<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">startDate</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">threshold</span><span class="p">.</span><span class="nx">bs_revenueaccumulationtype</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">126840001</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">startDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">formatDateTime</span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date_2&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyy&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;-01-01&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Calculate anniversary date logic</span>
<span class="w">            </span><span class="nx">startDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">calculateAnniversaryStartDate</span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date_2&#39;</span><span class="p">],</span><span class="w"> </span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date&#39;</span><span class="p">]);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">previousQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">            SELECT TotalNetExternalRevenue</span>
<span class="sb">            FROM [dbo].[vwREVENUE_DAILY_DETAIL_INVOICE]</span>
<span class="sb">            WHERE SITE = &#39;</span><span class="si">${</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="sb">&#39;</span>
<span class="sb">              AND date(DATE) &gt;= date(&#39;</span><span class="si">${</span><span class="nx">startDate</span><span class="si">}</span><span class="sb">&#39;)</span>
<span class="sb">              AND date(DATE) &lt; date(&#39;</span><span class="si">${</span><span class="nx">formatDateTime</span><span class="p">(</span><span class="nx">triggerBody</span><span class="p">()</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">)</span><span class="si">}</span><span class="sb">&#39;)</span>
<span class="sb">              AND DEPOSIT_FLAG != &#39;V&#39;</span>
<span class="sb">              AND REVENUE_CATEGORY != &#39;Per Man Hour&#39;</span>
<span class="sb">              AND (REVENUE_CODE = &#39;</span><span class="si">${</span><span class="nx">revenueCodeFilter</span><span class="si">}</span><span class="sb">&#39;)</span>
<span class="sb">            AGGREGATE(NETEXTERNALREVENUE with sum as TotalNetExternalRevenue)</span>
<span class="sb">        `</span><span class="p">;</span>

<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">previousRevenue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">executeQuery</span><span class="p">(</span><span class="nx">previousQuery</span><span class="p">).</span><span class="nx">TotalNetExternalRevenue</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">        </span><span class="nx">accumulatedRevenue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">thresholdRevenue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">previousRevenue</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Process tier calculations</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">previousLimit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">tier</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">tierData</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">currentLimit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">tier</span><span class="p">.</span><span class="nx">Amount</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// Adjust previous limit if less than accumulated start</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">previousLimit</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">accumulatedRevenue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">thresholdRevenue</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">previousLimit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">accumulatedRevenue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">thresholdRevenue</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Skip if previous limit exceeds current limit</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">previousLimit</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">currentLimit</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">currentLimit</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">continue</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Calculate tier amount</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">tierAmount</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentLimit</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">accumulatedRevenue</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nx">currentLimit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">tierAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">accumulatedRevenue</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">previousLimit</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">tierAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">currentLimit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">previousLimit</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Calculate amount due for this tier</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">amountDue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">tierAmount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">tierAmount</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="nx">tier</span><span class="p">.</span><span class="nx">SharePercentage</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">100</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">        </span><span class="nx">totalAmountDue</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">amountDue</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// Add to revenue distribution items</span>
<span class="w">        </span><span class="nx">revenueDistributionItems</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
<span class="w">            </span><span class="nx">revenueAmount</span><span class="o">:</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">tierAmount</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">),</span>
<span class="w">            </span><span class="nx">sharePercentageToCharge</span><span class="o">:</span><span class="w"> </span><span class="nx">tier</span><span class="p">.</span><span class="nx">SharePercentage</span><span class="p">,</span>
<span class="w">            </span><span class="nx">amountDueToTownePark</span><span class="o">:</span><span class="w"> </span><span class="nx">amountDue</span><span class="p">,</span>
<span class="w">            </span><span class="nx">tierLimitAmount</span><span class="o">:</span><span class="w"> </span><span class="nx">tier</span><span class="p">.</span><span class="nx">Amount</span><span class="p">,</span>
<span class="w">            </span><span class="nx">thresholdStructure</span><span class="o">:</span><span class="w"> </span><span class="nx">threshold</span><span class="p">.</span><span class="nx">bs_invoicegroup</span>
<span class="w">        </span><span class="p">});</span>

<span class="w">        </span><span class="nx">previousLimit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">currentLimit</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Generate line items</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">lineItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Towne Park Fees for Services&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">amount</span><span class="o">:</span><span class="w"> </span><span class="nx">totalAmountDue</span><span class="p">,</span>
<span class="w">    </span><span class="nx">code</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;4790&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Total Base for Fee Calculation: </span><span class="si">${</span><span class="nx">formatCurrency</span><span class="p">(</span><span class="nx">totalRevenue</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span>
<span class="p">}];</span>

<span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">lineitems</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">lineItems</span><span class="p">),</span>
<span class="w">    </span><span class="nx">invoicesubtotal</span><span class="o">:</span><span class="w"> </span><span class="nx">totalAmountDue</span><span class="p">,</span>
<span class="w">    </span><span class="nx">revenuedistributionitems</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">revenueDistributionItems</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div></p>
<h2 id="formula-specifications">Formula Specifications</h2>
<h3 id="revenue-share-formulas">Revenue Share Formulas</h3>
<p><strong>Validated Implementation</strong>: ✅ Matches <a href="../../../Towne-Park-Billing-PA-Solution/BillingSystem/Formulas/bs_revenuesharebypercent-FormulaDefinitions.yaml:1"><code>bs_revenuesharebypercent-FormulaDefinitions.yaml</code></a></p>
<h4 id="owner-percentage-calculation">Owner Percentage Calculation</h4>
<div class="highlight"><pre><span></span><code><span class="nt">bs_ownerpercent</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">=If(bs_percenttocharge &gt;= 0, 100 - bs_percenttocharge, 0)</span>
</code></pre></div>
<p><strong>Technical Implementation</strong>:
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">calculateOwnerPercentage</span><span class="p">(</span><span class="nx">percentToCharge</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">percentToCharge</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">percentToCharge</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></p>
<h4 id="total-due-to-owner-calculation">Total Due to Owner Calculation</h4>
<div class="highlight"><pre><span></span><code><span class="nt">bs_totalduetoowner</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">=bs_revenueamount - bs_totalduetotownepark</span>
</code></pre></div>
<p><strong>Technical Implementation</strong>:
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">calculateTotalDueToOwner</span><span class="p">(</span><span class="nx">revenueAmount</span><span class="p">,</span><span class="w"> </span><span class="nx">totalDueToTownePark</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">revenueAmount</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">totalDueToTownePark</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="database-design">Database Design</h2>
<h3 id="performance-optimization">Performance Optimization</h3>
<h4 id="indexing-strategy">Indexing Strategy</h4>
<div class="highlight"><pre><span></span><code><span class="c1">-- Revenue data mart indexes for optimal query performance</span>
<span class="k">CREATE</span><span class="w"> </span><span class="n">NONCLUSTERED</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">IX_REVENUE_DATAMART_SITE_DATE_CATEGORY</span><span class="w"> </span>
<span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">REVENUE_DATAMART_DAILY_INVOICE</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="n">SITE</span><span class="p">,</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span><span class="w"> </span><span class="n">REVENUE_CATEGORY</span><span class="p">)</span>
<span class="n">INCLUDE</span><span class="w"> </span><span class="p">(</span><span class="n">VALUE</span><span class="p">,</span><span class="w"> </span><span class="n">REVENUE_CODE</span><span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="n">NONCLUSTERED</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">IX_REVENUE_DATAMART_CODE_DATE</span><span class="w"> </span>
<span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">REVENUE_DATAMART_DAILY_INVOICE</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="n">REVENUE_CODE</span><span class="p">,</span><span class="w"> </span><span class="nb">DATE</span><span class="p">)</span>
<span class="n">INCLUDE</span><span class="w"> </span><span class="p">(</span><span class="n">SITE</span><span class="p">,</span><span class="w"> </span><span class="n">VALUE</span><span class="p">,</span><span class="w"> </span><span class="n">REVENUE_CATEGORY</span><span class="p">);</span>

<span class="c1">-- Revenue detail view indexes</span>
<span class="k">CREATE</span><span class="w"> </span><span class="n">NONCLUSTERED</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">IX_REVENUE_DETAIL_SITE_DATE_DEPOSIT</span><span class="w"> </span>
<span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">REVENUE_DAILY_DETAIL</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="n">SITE</span><span class="p">,</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span><span class="w"> </span><span class="n">DEPOSIT_FLAG</span><span class="p">)</span>
<span class="n">INCLUDE</span><span class="w"> </span><span class="p">(</span><span class="n">NETEXTERNALREVENUE</span><span class="p">,</span><span class="w"> </span><span class="n">REVENUE_CODE</span><span class="p">,</span><span class="w"> </span><span class="n">REVENUE_CATEGORY</span><span class="p">);</span>
</code></pre></div>
<h4 id="query-optimization">Query Optimization</h4>
<div class="highlight"><pre><span></span><code><span class="c1">-- Optimized query for monthly revenue aggregation</span>
<span class="k">WITH</span><span class="w"> </span><span class="n">MonthlyRevenue</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="n">SITE</span><span class="p">,</span>
<span class="w">        </span><span class="k">YEAR</span><span class="p">(</span><span class="nb">DATE</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">RevenueYear</span><span class="p">,</span>
<span class="w">        </span><span class="k">MONTH</span><span class="p">(</span><span class="nb">DATE</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">RevenueMonth</span><span class="p">,</span>
<span class="w">        </span><span class="n">REVENUE_CODE</span><span class="p">,</span>
<span class="w">        </span><span class="k">SUM</span><span class="p">(</span><span class="n">NETEXTERNALREVENUE</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">TotalRevenue</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">vwREVENUE_DAILY_DETAIL_INVOICE</span><span class="p">]</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">DEPOSIT_FLAG</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;V&#39;</span>
<span class="w">      </span><span class="k">AND</span><span class="w"> </span><span class="n">REVENUE_CATEGORY</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;Per Man Hour&#39;</span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">SITE</span><span class="p">,</span><span class="w"> </span><span class="k">YEAR</span><span class="p">(</span><span class="nb">DATE</span><span class="p">),</span><span class="w"> </span><span class="k">MONTH</span><span class="p">(</span><span class="nb">DATE</span><span class="p">),</span><span class="w"> </span><span class="n">REVENUE_CODE</span>
<span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">MonthlyRevenue</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">SITE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">SiteNumber</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">RevenueYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">TargetYear</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">RevenueMonth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">TargetMonth</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">REVENUE_CODE</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">RevenueCodeList</span><span class="p">);</span>
</code></pre></div>
<h3 id="data-archival-strategy">Data Archival Strategy</h3>
<h4 id="archival-policy">Archival Policy</h4>
<ul>
<li><strong>Active Data</strong>: Current year + 2 previous years in primary tables</li>
<li><strong>Archived Data</strong>: Data older than 3 years moved to archive tables</li>
<li><strong>Retention Period</strong>: 7 years total retention for compliance</li>
</ul>
<h4 id="archive-table-structure">Archive Table Structure</h4>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">REVENUE_DATAMART_DAILY_INVOICE_ARCHIVE</span><span class="p">]</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">SITE</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="nb">DATE</span><span class="p">]</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">REVENUE_CATEGORY</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">VALUE</span><span class="p">]</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">REVENUE_CODE</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="p">[</span><span class="n">DEPOSIT_FLAG</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
<span class="w">    </span><span class="p">[</span><span class="n">ARCHIVED_DATE</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME2</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span>
<span class="w">    </span><span class="p">[</span><span class="n">ORIGINAL_CREATED_DATE</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME2</span><span class="p">,</span>

<span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">IX_ARCHIVE_SITE_DATE</span><span class="w"> </span><span class="p">(</span><span class="n">SITE</span><span class="p">,</span><span class="w"> </span><span class="nb">DATE</span><span class="p">),</span>
<span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">IX_ARCHIVE_ARCHIVED_DATE</span><span class="w"> </span><span class="p">(</span><span class="n">ARCHIVED_DATE</span><span class="p">)</span>
<span class="p">)</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">DATA_COMPRESSION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PAGE</span><span class="p">);</span>
</code></pre></div>
<h2 id="integration-specifications">Integration Specifications</h2>
<h3 id="powerbill-integration">PowerBill Integration</h3>
<h4 id="connection-configuration">Connection Configuration</h4>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;connectionName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bs_TowneParkEDW&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;connectionType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SQL Server&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;authentication&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Service Principal&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;connectionString&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Server=edw-server.townepark.com;Database=TowneParkEDW;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;retryPolicy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;maxRetries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;retryInterval&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PT30S&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;exponentialBackoff&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="error-handling">Error Handling</h4>
<div class="highlight"><pre><span></span><code><span class="c1">// Standardized error handling for EDW connections</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">handleEDWError</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span><span class="w"> </span><span class="nx">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">errorDetails</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">(),</span>
<span class="w">        </span><span class="nx">context</span><span class="o">:</span><span class="w"> </span><span class="nx">context</span><span class="p">,</span>
<span class="w">        </span><span class="nx">errorMessage</span><span class="o">:</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span>
<span class="w">        </span><span class="nx">errorCode</span><span class="o">:</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span><span class="p">,</span>
<span class="w">        </span><span class="nx">stackTrace</span><span class="o">:</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">stack</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="c1">// Log to Application Insights</span>
<span class="w">    </span><span class="nx">logError</span><span class="p">(</span><span class="s1">&#39;EDW_CONNECTION_ERROR&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">errorDetails</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Determine retry strategy</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isRetryableError</span><span class="p">(</span><span class="nx">error</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">shouldRetry</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nx">retryAfter</span><span class="o">:</span><span class="w"> </span><span class="nx">calculateRetryDelay</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Return empty result for non-retryable errors</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">shouldRetry</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nx">fallbackResult</span><span class="o">:</span><span class="w"> </span><span class="nx">getEmptyResult</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="dataverse-integration">Dataverse Integration</h3>
<h4 id="security-configuration">Security Configuration</h4>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;securityRoles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;roleName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Forecasting Administrator&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;permissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;bs_revenueshareconfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Create&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Read&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Write&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Delete&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;bs_peroccupiedroomconfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Create&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Read&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Write&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Delete&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;bs_forecastingaudit&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Read&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Write&quot;</span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;roleName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Forecasting User&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="nt">&quot;permissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;bs_revenueshareconfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Read&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;bs_peroccupiedroomconfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Read&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;bs_forecastingaudit&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Read&quot;</span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="audit-trail-configuration">Audit Trail Configuration</h4>
<div class="highlight"><pre><span></span><code><span class="c1">-- Audit trail table for forecasting operations</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">bs_forecastingaudit</span><span class="p">]</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditId</span><span class="p">]</span><span class="w"> </span><span class="n">UNIQUEIDENTIFIER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">NEWID</span><span class="p">(),</span>
<span class="w">    </span><span class="p">[</span><span class="n">UserId</span><span class="p">]</span><span class="w"> </span><span class="n">UNIQUEIDENTIFIER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="k">Operation</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">EntityName</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">EntityId</span><span class="p">]</span><span class="w"> </span><span class="n">UNIQUEIDENTIFIER</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">OldValues</span><span class="p">]</span><span class="w"> </span><span class="n">NTEXT</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">NewValues</span><span class="p">]</span><span class="w"> </span><span class="n">NTEXT</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="k">Timestamp</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME2</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span>
<span class="w">    </span><span class="p">[</span><span class="n">IPAddress</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">45</span><span class="p">),</span>
<span class="w">    </span><span class="p">[</span><span class="n">UserAgent</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<h2 id="performance-requirements">Performance Requirements</h2>
<h3 id="response-time-targets">Response Time Targets</h3>
<ul>
<li><strong>Per Occupied Room Calculation</strong>: &lt; 30 seconds</li>
<li><strong>Revenue Share Calculation</strong>: &lt; 2 minutes for complex tier structures</li>
<li><strong>Data Retrieval from EDW</strong>: &lt; 15 seconds for monthly aggregations</li>
<li><strong>Configuration Updates</strong>: &lt; 5 seconds</li>
</ul>
<h3 id="throughput-requirements">Throughput Requirements</h3>
<ul>
<li><strong>Concurrent Users</strong>: Support up to 50 concurrent forecasting operations</li>
<li><strong>Daily Calculations</strong>: Process up to 1,000 forecasting calculations per day</li>
<li><strong>Data Volume</strong>: Handle up to 10 million revenue records per calculation</li>
</ul>
<h3 id="scalability-considerations">Scalability Considerations</h3>
<ul>
<li><strong>Horizontal Scaling</strong>: Power Automate workflows auto-scale based on demand</li>
<li><strong>Database Scaling</strong>: EDW supports read replicas for improved query performance</li>
<li><strong>Caching Strategy</strong>: Implement Redis cache for frequently accessed configuration data</li>
</ul>
<h2 id="security-specifications">Security Specifications</h2>
<h3 id="authentication-and-authorization">Authentication and Authorization</h3>
<ul>
<li><strong>Azure AD Integration</strong>: Single sign-on with corporate Azure AD</li>
<li><strong>Role-Based Access Control</strong>: Granular permissions based on user roles</li>
<li><strong>API Security</strong>: OAuth 2.0 with JWT tokens for API access</li>
<li><strong>Data Encryption</strong>: TLS 1.3 for data in transit, AES-256 for data at rest</li>
</ul>
<h3 id="data-privacy-and-compliance">Data Privacy and Compliance</h3>
<ul>
<li><strong>PII Protection</strong>: No personally identifiable information in forecasting data</li>
<li><strong>Data Residency</strong>: All data stored within approved geographic regions</li>
<li><strong>Audit Logging</strong>: Comprehensive audit trail for all data access and modifications</li>
<li><strong>Retention Policies</strong>: Automated data retention and deletion policies</li>
</ul>
<h2 id="monitoring-and-alerting">Monitoring and Alerting</h2>
<h3 id="application-performance-monitoring">Application Performance Monitoring</h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;applicationInsights&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;instrumentationKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;forecasting-app-insights-key&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;customMetrics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;forecasting.calculation.duration&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;forecasting.calculation.success_rate&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;forecasting.data.retrieval.duration&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;forecasting.error.rate&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;alertRules&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;High Error Rate&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;condition&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error_rate &gt; 5%&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;severity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Critical&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notification&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;forecasting-alerts@townepark.com&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Slow Response Time&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;condition&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;avg_response_time &gt; 60s&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;severity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Warning&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="nt">&quot;notification&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;forecasting-alerts@townepark.com&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="health-check-endpoints">Health Check Endpoints</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// Health check for forecasting services</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/health/forecasting&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">healthChecks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">allSettled</span><span class="p">([</span>
<span class="w">        </span><span class="nx">checkEDWConnection</span><span class="p">(),</span>
<span class="w">        </span><span class="nx">checkDataverseConnection</span><span class="p">(),</span>
<span class="w">        </span><span class="nx">checkPowerAutomateStatus</span><span class="p">(),</span>
<span class="w">        </span><span class="nx">checkCacheStatus</span><span class="p">()</span>
<span class="w">    </span><span class="p">]);</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">overallHealth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">healthChecks</span><span class="p">.</span><span class="nx">every</span><span class="p">(</span><span class="nx">check</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span>
<span class="w">        </span><span class="nx">check</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;fulfilled&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">check</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">healthy</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">overallHealth</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">200</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">503</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span>
<span class="w">        </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="nx">overallHealth</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;healthy&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unhealthy&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">(),</span>
<span class="w">        </span><span class="nx">checks</span><span class="o">:</span><span class="w"> </span><span class="nx">healthChecks</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">check</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
<span class="w">            </span><span class="nx">service</span><span class="o">:</span><span class="w"> </span><span class="nx">check</span><span class="p">.</span><span class="nx">service</span><span class="p">,</span>
<span class="w">            </span><span class="nx">healthy</span><span class="o">:</span><span class="w"> </span><span class="nx">check</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;fulfilled&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">check</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">healthy</span><span class="p">,</span>
<span class="w">            </span><span class="nx">responseTime</span><span class="o">:</span><span class="w"> </span><span class="nx">check</span><span class="p">.</span><span class="nx">value</span><span class="o">?</span><span class="p">.</span><span class="nx">responseTime</span><span class="p">,</span>
<span class="w">            </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="nx">check</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;rejected&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">check</span><span class="p">.</span><span class="nx">reason</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">        </span><span class="p">}))</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<h2 id="deployment-specifications">Deployment Specifications</h2>
<h3 id="environment-configuration">Environment Configuration</h3>
<h4 id="development-environment">Development Environment</h4>
<p>```json
{
  "environment": "development",
  "powerPlatform": {
    "environmentUrl": "https://dev-townepark.crm.dynamics.com",
    "solutionName": "TowneParkForecastingDev"
  },
  "database": {
    "server": "dev-edw.townepark.com",
    "database": "TowneParkEDW</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="July 18, 2025 19:22:44 UTC">July 18, 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "search.suggest", "search.highlight"], "search": "../../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
        <script src="../../../../javascripts/extra.js"></script>
      
    
  </body>
</html>